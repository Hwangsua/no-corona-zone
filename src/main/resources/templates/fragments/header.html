<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<th:block th:fragment="headerFragment(activeTab)">
    <!-- 상단 바 -->
    <div class="container-header">
        <nav class="global-nav">
            <!-- 좌측 메뉴 (데스크탑) -->
            <div class="global-nav-menus">
                <a th:href="@{/vaccine}" class="global-nav-item">백신</a>
                <a th:href="@{/clinic}" class="global-nav-item">선별진료소</a>
                <a id="dropdownMenuLink" data-toggle="dropdown" class="global-nav-item dropdown-toggle">NEWS</a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" th:href="@{/article}">기사</a>
                    <a class="dropdown-item" th:href="@{/video}">영상</a>
                </div>
            </div>
            <!-- 좌측 메뉴 (모바일) -->
            <div onclick="location.href='templates/menu/mobile_menu.html'" class="mobile-nav-menus">
                <div class="icon-menu"></div>
                <div class="icon-menu"></div>
                <div class="icon-menu"></div>
            </div>
            <!-- 메인으로 -->
            <div class="global-nav-home">
                <img onclick="location.href='/'" src="img/ncz_logo.png" alt="" class="icon-home">
            </div>
            <!-- 우측 메뉴 (데스크탑) -->
            <div class="global-nav-users">
                <a th:href="@{/timeline_follow}" class="global-nav-item">CO-SNS</a>
                <a th:href="@{/signup}" class="global-nav-item" sec:authorize="!isAuthenticated()">회원가입</a>
                <a th:href="@{/login}" class="global-nav-item" th:classappend="${activeTab == 'login'} ? active" sec:authorize="!isAuthenticated()">로그인</a>
                <a class="nav-link" th:classappend="${activeTab == 'mypage'} ? active"
                   sec:authorize="isAuthenticated()" th:href="@{'/mypage/' + ${#authentication?.name}}" sec:authentication="name">내 정보</a>
                <!-- 로그인 정보 보고싶어서 잠시 이렇게 해두겠습니다 -->

                <form class="form-inline" th:action="@{/logout}" th:method="post">
                    <button th:action="@{/logout}" class="global-nav-item" th:classappend="${activeTab == 'logout'} ? active" sec:authorize="isAuthenticated()" >로그아웃</button>
                </form>
                <!-- <a th:classappend="${activeTab == 'logout'} ? active" th:action="@{/logout}" th:method="post" sec:authorize="!isAuthenticated()" class="global-nav-item">로그아웃</a> -->
                <!-- a 태그가 안먹혀서 우선 form, button을 사용했습니다.-->

            </div>
            <!-- 우측 메뉴 (모바일) -->
            <div class="mobile-nav-users">
                <a href="templates/menu/mobile_member_menu.html">
                    <img src="img/social-icon.png" alt="" class="icon-social">
                </a>
            </div>
        </nav>
    </div>
</th:block>
</html>